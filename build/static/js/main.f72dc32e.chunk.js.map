{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","ShowPeople","person","deleteInfo","name","number","onClick","Persons","persons","map","Notification","message","className","ErrorMessage","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","infoMessage","setInfoMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","onChange","event","filter","toLowerCase","includes","target","value","onSubmit","preventDefault","nameObject","duplicateIndex","find","undefined","window","confirm","returnedPerson","catch","error","setTimeout","concat","console","log","type","pers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f72dc32e.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data) \n}\n\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { \n    getAll, create, update, remove\n }","import React, { useEffect, useState } from 'react'\nimport personService from './services/persons'\nimport './index.css'\n\nconst ShowPeople = (Â {person, deleteInfo} ) => {\n  return(\n    <div>\n      {person.name} {person.number} <button onClick={() => \n        deleteInfo(person)}>delete</button>\n    </div>\n  )\n  \n}\n\nconst Persons = ( {persons, deleteInfo} ) => {\n  return(\n    <div>\n      {persons.map(person => <ShowPeople key={person.name} person={person} deleteInfo={deleteInfo}/>)}\n    </div>\n  )\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className=\"info\">\n      {message}\n    </div>\n  )\n}\n\nconst ErrorMessage = ( {message} ) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ infoMessage, setInfoMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  \n  const addInfo = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }  \n    \n    const duplicateIndex = (persons.find(person => person.name === newName) || {}).id \n    \n    \n    if (duplicateIndex !== undefined){\n    \n      if (window.confirm(`Do you want to update the information for ${newName}?`)){\n        personService\n          .update(duplicateIndex, nameObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== duplicateIndex ? person : returnedPerson))\n          })\n          .catch(error => {\n            setErrorMessage(`${error.response.data.error}`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 3000)\n          })\n      }\n    } else {\n      personService\n      .create(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setInfoMessage(`Added ${nameObject.name}`)\n        setTimeout(() => {\n        setInfoMessage(null)\n      }, 3000)\n      })\n      .catch(error => {\n        setErrorMessage(`${error.response.data.error}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3000)\n      })\n    }\n    \n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setPersons(persons.filter(person => person.name.toLowerCase().includes(event.target.value)))\n  }\n\n  const deleteInfo = (person) => {\n    console.log(\"person\", person)\n    if (window.confirm(`Are you sure you want to delete ${person.name} from contacts?`)){\n      \n      personService\n      .remove(person.id)\n      .then(setPersons(persons.filter(pers => pers.id !== person.id)))\n      \n        \n    }\n  }\n\n  \n  return (  \n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={infoMessage}/>\n      <ErrorMessage message={errorMessage}/>\n      filter shown with <input \n      onChange={handleFilter}/>\n      \n      <h2>Add a new contact</h2>\n      <form onSubmit={addInfo}>\n        <div>\n          name: <input \n          value={newName}\n          onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number: <input \n          value={newNumber}\n          onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button> \n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <div>\n        <Persons persons={persons} deleteInfo={deleteInfo} />\n      </div>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App.js'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","ShowPeople","person","deleteInfo","name","number","onClick","Persons","persons","map","Notification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","infoMessage","setInfoMessage","useEffect","personService","initialPersons","onChange","event","filter","toLowerCase","includes","target","value","onSubmit","preventDefault","nameObject","duplicateIndex","findIndex","duplicateId","window","confirm","returnedPerson","concat","setTimeout","console","log","type","pers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9124862f.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data) \n}\n\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useEffect, useState } from 'react'\nimport personService from './services/persons'\nimport './index.css'\n\nconst ShowPeople = (Â {person, deleteInfo} ) => {\n  return(\n    <div>\n      {person.name} {person.number} <button onClick={() => \n        deleteInfo(person)}>delete</button>\n    </div>\n  )\n  \n}\n\nconst Persons = ( {persons, deleteInfo} ) => {\n  return(\n    <div>\n      {persons.map(person => <ShowPeople key={person.name} person={person} deleteInfo={deleteInfo}/>)}\n    </div>\n  )\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"info\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ infoMessage, setInfoMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  \n  const addInfo = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }  \n    \n    const duplicateIndex = persons.findIndex(person => person.name === newName)\n    const duplicateId = duplicateIndex + 1 \n    \n    if (duplicateIndex !== -1){\n    \n      if (window.confirm(`Do you want to update the information for ${newName}?`)){\n        personService\n          .update(duplicateId, nameObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== duplicateId ? person : returnedPerson))\n            })\n\n      }\n    } else {\n      setPersons(persons.concat(nameObject))\n      setInfoMessage(`Added ${nameObject.name}`)\n      setTimeout(() => {\n        setInfoMessage(null)\n      }, 3000)\n\n      personService\n      .create(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n      })\n      \n    \n    }\n    \n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setPersons(persons.filter(person => person.name.toLowerCase().includes(event.target.value)))\n  }\n\n  const deleteInfo = (person) => {\n    console.log(\"person\", person)\n    if (window.confirm(`Are you sure you want to delete ${person.name} from contacts?`)){\n      \n      personService\n      .remove(person.id)\n      .then(setPersons(persons.filter(pers => pers.id !== person.id)))\n      \n        \n    }\n  }\n\n  \n  return (  \n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={infoMessage}/>\n      filter shown with <input \n      onChange={handleFilter}/>\n      \n      <h2>Add a new contact</h2>\n      <form onSubmit={addInfo}>\n        <div>\n          name: <input \n          value={newName}\n          onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number: <input \n          value={newNumber}\n          onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button> \n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <div>\n        <Persons persons={persons} deleteInfo={deleteInfo} />\n      </div>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App.js'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}